@tailwind base;
@tailwind components;
@tailwind utilities;

html { width: 100%; max-width: 100vw; overflow-x: hidden; }
body { 
	width: 100%; 
	max-width: 100vw; 
	overflow-x: hidden; 
	background: linear-gradient(135deg, #23004B 0%, #2F0959 100%);
}

@keyframes shake {
	0% { transform: translateX(0); }
	20% { transform: translateX(-6px); }
	40% { transform: translateX(6px); }
	60% { transform: translateX(-4px); }
	80% { transform: translateX(4px); }
	100% { transform: translateX(0); }
}
.animate-shake {
	animation: shake 0.3s;
}

@keyframes magicIn {
	0% { opacity: 0; transform: translateY(-8px) scale(.96); filter: blur(4px); }
	60% { opacity: 1; transform: translateY(2px) scale(1.02); filter: blur(0); }
	100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
}
@keyframes magicOut {
	0% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
	100% { opacity: 0; transform: translateY(-6px) scale(.9); filter: blur(6px); }
}
.animate-magic-in { animation: magicIn .45s cubic-bezier(.22,.68,.43,1.01); }
.animate-magic-out { animation: magicOut .45s forwards; }

/* Display (read mode): make HR white only when content is inverted (e.g., book index) */
.prose.prose-invert hr {
	border: none;
	border-top: 1px solid #ffffff;
	opacity: 1;
}

/* Light mode chapter content: hr should be extradark */
.prose hr {
  border: none;
  border-top: 1px solid #23004B; /* readowl-purple.extradark */
  opacity: 1;
}
